<html>

<head>
    <title>StyleGuy</title>
    <link rel="stylesheet" type="text/css" href="main.min.css"/>
</head>

<body keyboard-nav="off">
    <div app class="contain">
        <v-style v-cloak>
            .preview {
                {{ cssGlobal }}
            }
        </v-style>
        
        <header class="row --sty">
            <ul role="menubar" v-on:click="generateCss()">
                    <li role        ="menuitem"
                        tabindex    ="0"
                        v-on:click  ="tab = 'project'"
                        v-bind:class="{ selected : tab === 'project' }"
                    >
                    project
                </li>
                <li role        ="menuitem"
                    tabindex    ="0"
                    v-on:click  ="tab = 'edit'"
                    v-bind:class="{ selected : tab === 'edit' }"
                >
                    edit
                </li>
                <li role        ="menuitem"
                    tabindex    ="0"
                    v-on:click  ="tab = 'view'"
                    v-bind:class="{ selected : tab === 'view' }"
                >
                    view
                </li>
                <li role        ="menuitem"
                    tabindex    ="0"
                    v-on:click  ="tab = 'export'"
                    v-bind:class="{ selected : tab === 'export' }"
                >
                    export
                </li>
                <li role        ="menuitem"
                    tabindex    ="0"
                    v-on:click  ="tab = 'about'"
                    v-bind:class="{ selected : tab === 'about' }"
                >
                    ?
                </li>
            </ul>
        </header>

        <div class="loading-mask --sty" v-bind:class="{ loaded: loaded }">
            <div class="loader"></div>
        </div>

        <main>
            <section v-show="tab === 'project'" class="row --sty">
                <ul>
                    <li>project name</li>
                    <li>load preset</li>
                    <ul>
                        <li>from savefile</li>
                        <li>normalize</li>
                    </ul>
                    <li>set theme</li>
                    <ul>    
                        <li>color</li>
                        <li>menu & button style</li>
                        <li>snippet theme</li>
                        <li>logo</li>
                    </ul>
                    <li>password protect</li>
                    <li>delete project</li>
                </ul>
            </section>

            <section v-show="tab === 'view' || tab === 'edit'" class="row fill-height">
                <nav class="col --sty">
                    <ul role="menu">
                        <li role        ="menuitem"
                            v-if        ="tab === 'edit' || groupHasItems(group)"
                            v-for       ="(group, g_label, i) in menu"
                            tabindex    ="0"
                            v-on:click  ="menuGroup = g_label"
                            v-bind:class="{ selected : menuGroup === g_label }"
                        >
                            {{ g_label }}
                            <ul role="menu">
                                <li role            ="menuitem"
                                    v-if            ="tab == 'edit' || item.some(e => e.style || e.hex)"
                                    v-for           ="(item, i_label, j) in group"
                                    v-bind:tabindex ="menuGroup === g_label ? 0 : -1"
                                    v-on:click      ="menuItem = i_label; page = menu[menuGroup][menuItem]; generateCss();"
                                    v-bind:class    ="{ selected : menuItem === i_label }"
                                >
                                    {{ i_label }}
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            
                <section class="col page">
                    <template v-if="menuItem === 'color'">
                        <color-editor
                            v-bind:editable     ="tab === 'edit'"
                            v-model             ="page"
                            v-on:color-change   ="setGlobalCss"
                        ></color-editor>
                    </template>
                    <template v-else>
                        <element-editor
                            v-if    ="tab === 'edit' || el.style"
                            v-for   ="(el, index) in page"
                            v-model ="el"
                            v-bind:editable     ="tab === 'edit'"
                            v-on:add-element    ="addElement(page, index, $event)"
                            v-on:compile-sass   ="compileSass(page, index, $event)"
                        ></element-editor>
                    </template>
                    <div v-if="!cssmin && tab === 'view'" class="empty-error --sty">
                        <h2>No styles have been added yet</h2>
                    </div>
                </section>
            </section>

            <section v-show="tab === 'export'" class="row --sty">
                <ul>
                    <li>Hosted files</li>
                    <ul>
                        <li>StyleGuide.html</li>
                        <li>StyleSheet.min.css</li>
                    </ul>
                    <li>Download Files</li>
                    <ul>
                        <li>guide.html</li>
                        <li>style.sass</li>
                        <li>style.min.css</li>
                        <li>project.json</li>
                    </ul>
                </ul>
            </section>

            <section v-show="tab === 'about'" class="row --sty">
                <ul>
                    <li>about</li>
                    <li>get started tour</li>
                    <li>contact</li>
                </ul>
            </section>
        </main>
    </div>

    <script src="js/lib/vue.min.js"></script>
    <script data-main="js/init" src="js/lib/require.js"></script>
</body>

</html>